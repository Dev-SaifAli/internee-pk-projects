<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WeatherVault - Your Personal Weather Companion</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Space+Mono:wght@400;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- Auth Page -->
    <div id="authPage" class="page-container auth-page active">
        <div class="auth-container">
            <div class="auth-header">
                <div class="app-logo">
                    <span class="logo-icon">üåç</span>
                    <span class="logo-text">WeatherVault</span>
                </div>
                <p class="auth-subtitle">Know your weather, own your day</p>
            </div>

            <form id="authForm" class="auth-form" novalidate>
                <div class="form-group">
                    <label for="emailInput">Email Address</label>
                    <input type="email" id="emailInput" placeholder="Enter your email" required
                        aria-label="Email address for authentication">
                    <span class="error-message" id="emailError"></span>
                </div>

                <button type="submit" class="btn btn-primary btn-large">
                    <span class="btn-text">Enter Weather</span>
                    <span class="btn-icon">‚Üí</span>
                </button>

                <div class="auth-info">
                    <p>‚ú® No password needed. We keep it simple.</p>
                </div>
            </form>

            <div class="auth-footer">
                <p>Your weather data stays private ‚Ä¢ Works offline ‚Ä¢ Always free</p>
            </div>
        </div>
    </div>

    <!-- Weather Page -->
    <div id="weatherPage" class="page-container weather-page">
        <!-- Header -->
        <header class="weather-header">
            <div class="header-top">
                <div class="header-left">
                    <div class="app-logo">
                        <span class="logo-icon">üåç</span>
                        <span class="logo-text">WeatherVault</span>
                    </div>
                </div>

                <div class="header-center">
                    <div id="greeting" class="greeting-message"></div>
                </div>

                <div class="header-right">
                    <button id="themeToggle" class="btn btn-icon" aria-label="Toggle dark/light theme"
                        title="Toggle theme">
                        <span class="theme-icon">üåô</span>
                    </button>
                    <button id="logoutBtn" class="btn btn-secondary" aria-label="Logout">
                        Logout
                    </button>
                </div>
            </div>

            <!-- Search Section -->
            <div class="search-section">
                <div class="search-container">
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="Search for a city..."
                            aria-label="Search for a city name">
                        <button id="searchBtn" class="btn btn-search" aria-label="Search weather">
                            <span class="search-icon">üîç</span>
                        </button>
                        <button id="geolocationBtn" class="btn btn-geo" aria-label="Use my location"
                            title="Use current location">
                            <span class="geo-icon">üìç</span>
                        </button>
                    </div>
                    <span class="error-message" id="searchError"></span>
                </div>

                <!-- Recent Searches -->
                <div class="recent-searches" id="recentSearchesContainer">
                    <p class="recent-label">Recent:</p>
                    <div class="recent-list" id="recentList"></div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="weather-main">
            <!-- Loading State -->
            <div id="loadingState" class="loading-state hidden">
                <div class="spinner"></div>
                <p>Fetching your weather...</p>
            </div>

            <!-- Error State -->
            <div id="errorState" class="error-state hidden">
                <div class="error-icon">‚ö†Ô∏è</div>
                <h3 id="errorTitle">Something went wrong</h3>
                <p id="errorMessage"></p>
                <button class="btn btn-secondary" onclick="document.getElementById('searchInput').focus()">
                    Try Another Search
                </button>
            </div>

            <!-- Weather Display -->
            <div id="weatherDisplay" class="weather-display hidden">
                <!-- Current Weather Card -->
                <section class="weather-card current-weather">
                    <div class="card-header">
                        <div class="location-info">
                            <h2 id="cityName" class="city-title"></h2>
                            <p id="updateTime" class="update-time"></p>
                        </div>
                        <button id="favoriteBtn" class="btn btn-icon favorite-btn" title="Add to favorites">
                            ‚òÜ
                        </button>
                    </div>

                    <div class="current-temp-section">
                        <div class="weather-icon-large" id="weatherIconLarge">‚òÄÔ∏è</div>
                        <div class="temp-info">
                            <div class="temperature">
                                <span id="temp" class="temp-value">--</span>
                                <span class="temp-unit">¬∞C</span>
                            </div>
                            <p id="weatherDesc" class="weather-description"></p>
                        </div>
                    </div>

                    <!-- Weather Details Grid -->
                    <div class="details-grid">
                        <div class="detail-item">
                            <span class="detail-label">Feels Like</span>
                            <span class="detail-value" id="feelsLike">--¬∞C</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Humidity</span>
                            <span class="detail-value" id="humidity">--%</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Wind Speed</span>
                            <span class="detail-value" id="windSpeed">-- m/s</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Pressure</span>
                            <span class="detail-value" id="pressure">-- hPa</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">UV Index</span>
                            <span class="detail-value" id="uvIndex">--</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Visibility</span>
                            <span class="detail-value" id="visibility">-- km</span>
                        </div>
                    </div>
                </section>

                <!-- 5-Day Forecast -->
                <section class="forecast-section">
                    <h3 class="section-title">5-Day Forecast</h3>
                    <div class="forecast-grid" id="forecastGrid"></div>
                </section>
            </div>

            <!-- Empty State -->
            <div id="emptyState" class="empty-state">
                <div class="empty-icon">üå§Ô∏è</div>
                <h3>Ready to check the weather?</h3>
                <p>Search for a city or use your current location to get started.</p>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="js/constants.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/api.js"></script>
    <script src="js/theme.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/geolocation.js"></script>
    <script src="js/main.js"></script>
</body>

</html>